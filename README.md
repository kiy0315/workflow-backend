# 🛠️ Workflow Management Backend

> 효율적인 업무 흐름과 협업을 위한 **워크플로우 관리 백엔드 시스템**입니다.  
> NestJS, TypeORM, MySQL을 기반으로 설계되었으며, Swagger 기반 API 문서화, 인증 시스템, 실시간 상태 관리 기능 등을 제공합니다.

---

## 📌 목차

- [프로젝트 개요](#프로젝트-개요)
- [기술 스택](#기술-스택)
- [주요 기능](#주요-기능)
- [개발 이슈](#개발-이슈)
- [라이센스](#라이센스)

---

## 📍 프로젝트 개요

이 프로젝트는 다음과 같은 문제를 해결하기 위해 기획되었습니다:

- 복잡한 업무 흐름에서 각 단계(Step)별 할 일을 명확하게 관리하고자 함
- 팀원에게 업무를 배정하고 진행 상황을 실시간으로 확인할 수 있도록 하기 위함
- 일정한 프로세스(워크플로우)를 기반으로 업무를 자동화/시각화 가능하게 설계

> 예: "기획 → 디자인 → 개발 → 테스트 → 완료" 같은 일련의 프로세스를 디지털화

---

## 🛠️ 기술 스택

| 분류       | 기술                                       |
|------------|--------------------------------------------|
| 프레임워크 | NestJS                                     |
| 언어       | TypeScript                                 |
| ORM        | TypeORM                                    |
| DB         | MySQL                                      |
| 인증       | JWT (passport-jwt, @nestjs/jwt)            |
| 문서화     | Swagger (`@nestjs/swagger`)                |
| 배포       | PM2, AWS EC2 (예정)                        |
| 유틸       | class-validator, dotenv, config 등         |

---

## ✨ 주요 기능

### ✅ 유저 (User)
- 회원가입, 로그인
- JWT 기반 인증/인가
- Swagger 토큰 인증 적용

### ✅ 워크플로우 (Workflow)
- 워크플로우 생성 / 조회 / 수정 / 삭제
- 각 워크플로우는 여러 개의 Step을 포함

### ✅ 스텝 (Step)
- 워크플로우 내에서 순차적 단계 생성 가능
- Step별 Task 관리 기능
- Step 삭제 시 Task는 NULL 처리

### ✅ 할 일(Task)
- 할 일 생성 / 조회 / 수정 / 삭제
- 할 일에 담당자(assignedTo), 현재 Step 지정 가능
- 완료 여부(isCompleted) 업데이트 가능
- Task → History 저장 구조 설계

### ✅ 인증 및 보안
- JWT 기반 유저 인증 및 보호
- 비밀번호 해시 처리 (bcrypt)
- 로그인 시 이메일 & 비밀번호 일치 여부 확인

### ✅ Swagger 문서화
- Swagger UI 통해 모든 엔드포인트 테스트 가능
- DTO 기반 예시 자동 생성

---

## 🐞 개발 이슈
- JWT 인증 처리에서 비밀번호 비교 시 bcrypt.compare() 오류 경험 → 해결
- Task 생성 시 관계 테이블(ID만 받는 방식 → 객체로 변환해서 저장하는 로직 추가)
- TypeORM에서 관계 조회 시 EntityPropertyNotFoundError 발생 → 관계 명칭 통일로 해결
- Swagger에서 DTO 예시 자동화 처리
- Step 삭제 시 Task의 외래키 NULL 처리 (onDelete: SET NULL)

## 🪪 라이센스
해당 프로젝트는 MIT 라이센스를 따릅니다. 자유롭게 사용 및 수정 가능합니다.
